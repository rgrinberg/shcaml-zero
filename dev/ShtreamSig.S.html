<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf8" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="Up" href="ShtreamSig.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Abort" rel="Chapter" href="Abort.html">
<link title="Adaptor" rel="Chapter" href="Adaptor.html">
<link title="AnyShtream" rel="Chapter" href="AnyShtream.html">
<link title="AnyShtreamSig" rel="Chapter" href="AnyShtreamSig.html">
<link title="Channel" rel="Chapter" href="Channel.html">
<link title="Delimited" rel="Chapter" href="Delimited.html">
<link title="DepDAG" rel="Chapter" href="DepDAG.html">
<link title="Disposal" rel="Chapter" href="Disposal.html">
<link title="Fitting" rel="Chapter" href="Fitting.html">
<link title="FittingSig" rel="Chapter" href="FittingSig.html">
<link title="Flags" rel="Chapter" href="Flags.html">
<link title="IVar" rel="Chapter" href="IVar.html">
<link title="Line" rel="Chapter" href="Line.html">
<link title="LineShtream" rel="Chapter" href="LineShtream.html">
<link title="PriorityQueue" rel="Chapter" href="PriorityQueue.html">
<link title="Proc" rel="Chapter" href="Proc.html">
<link title="Reader" rel="Chapter" href="Reader.html">
<link title="Shtream" rel="Chapter" href="Shtream.html">
<link title="ShtreamSig" rel="Chapter" href="ShtreamSig.html">
<link title="Signal" rel="Chapter" href="Signal.html">
<link title="StringShtream" rel="Chapter" href="StringShtream.html">
<link title="Util" rel="Chapter" href="Util.html">
<link title="UsrBin" rel="Chapter" href="UsrBin.html">
<link title="Version" rel="Chapter" href="Version.html">
<link title="WeakPlus" rel="Chapter" href="WeakPlus.html"><link title="Shtream Construction and Observation" rel="Section" href="#1_ShtreamConstructionandObservation">
<link title="Coshtreams" rel="Section" href="#1_Coshtreams">
<link title="Low level (scary stuff)" rel="Section" href="#1_Lowlevelscarystuff">
<link title="Shtream Error Handling " rel="Subsection" href="#shtream_errors">
<title>Shcaml : ShtreamSig.S</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="ShtreamSig.html" title="ShtreamSig">Up</a>
&nbsp;</div>
<h1>Module type <a href="type_ShtreamSig.S.html">ShtreamSig.S</a></h1>

<pre><span class="keyword">module type</span> S = <code class="code"><span class="keyword">sig</span></code> <a href="ShtreamSig.S.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type">'a</code> t</span> </pre>


<pre><span id="TYPEco_t"><span class="keyword">type</span> <code class="type">'a</code> co_t</span> </pre>


<pre><span id="VALfrom"><span class="keyword">val</span> from</span> : <code class="type">(int -> 'a option) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Generate a shtream by repeatedly calling a function.
 The function is called with the natural numbers starting from
 0, and should return
 <code class="code"><span class="constructor">Some</span> v</code> to produce <code class="code">v</code> or <code class="code"><span class="constructor">None</span></code> to end the shtream.  The
 function may also use <a href="ShtreamSig.S.html#shtream_errors"><i>Shtream Error Handling </i></a>.
<br>
</div>

<pre><span id="VALclose"><span class="keyword">val</span> close</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Free resources (such as channels) associated with a
 shtream.  While channels will eventually be reclaimed by the
 garbage collector, the file descriptor table could potentially
 fill up without a collection.<br>
</div>

<pre><span id="VALof_list"><span class="keyword">val</span> of_list</span> : <code class="type">'a list -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Construct a shtream from the elements of a list.<br>
</div>

<pre><span id="VALlist_of"><span class="keyword">val</span> list_of</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a list</code></pre><div class="info ">
Return the contents of a shtream as a list.  If the shtream is
 infinite, this function won't terminate.<br>
</div>

<pre><span id="VALof_stream"><span class="keyword">val</span> of_stream</span> : <code class="type">'a Stream.t -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Convert a <i>standard library</i> <code class="code"><span class="constructor">Stream</span>.t</code> to a shtream.<br>
</div>

<pre><span id="VALstream_of"><span class="keyword">val</span> stream_of</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a Stream.t</code></pre><div class="info ">
Convert a shtream to a <i>standard library</i> <code class="code"><span class="constructor">Stream</span>.t</code>.<br>
</div>

<pre><span id="VALnpeek"><span class="keyword">val</span> npeek</span> : <code class="type">?n:int -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a list</code></pre><div class="info ">
Get the first <code class="code">n</code> (default <code class="code">1</code>) elements of a shtream.
 If there are fewer than <code class="code">n</code> elements remaining, returns only
 those.
 Leaves the elements in the shtream.<br>
</div>

<pre><span id="VALpeek"><span class="keyword">val</span> peek</span> : <code class="type">?n:int -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a option</code></pre><div class="info ">
Get the <code class="code">n</code>th (default <code class="code">0</code>th) element of a shtream.  Returns
 <code class="code"><span class="constructor">Some</span> v</code> if <code class="code">v</code> is the <code class="code">n</code>th zero-indexed element, and <code class="code"><span class="constructor">None</span></code> if
 the shtream has <code class="code">n</code> or fewer elements remaining.  Leaves
 elements in the shtream.<br>
</div>

<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Return <code class="code">()</code> if the shtream is empty.  Raises <code class="code"><span class="constructor">Failure</span></code> if
 elements remain.<br>
</div>

<pre><span id="VALis_empty"><span class="keyword">val</span> is_empty</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> bool</code></pre><div class="info ">
Is a shtream empty?  This may cause one element of the shtream
 to be evaluted; for example, it may read an element from a
 channel to check for <code class="code"><span class="constructor">End_of_file</span></code>.  The element is not
 discarded.<br>
</div>

<pre><span id="VALstatus"><span class="keyword">val</span> status</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> <a href="Proc.html#TYPEstatus">Proc.status</a> option</code></pre><div class="info ">
Retrieve the termination status of an exhausted shtream.  If the
 shtream still has data, returns <code class="code"><span class="constructor">None</span></code>.  Otherwise, <code class="code"><span class="constructor">Some</span>
 (<span class="constructor">Proc</span>.<span class="constructor">WEXITED</span> 0)</code> indicates normal termination and <code class="code"><span class="constructor">Some</span> n</code> for
 non-zero <code class="code">n</code> indicates abnormal termination.  If a shtream was made
 from an external process (via <a href="Shtream.html#VALof_command"><code class="code"><span class="constructor">Shtream</span>.of_command</code></a>, for example),
 then <code class="code">n</code> is the exit code of the process.  (If the process closes its
 output and continues running, the shtream will terminate with <code class="code"><span class="constructor">Some</span>
 0</code> rather than wait for the process.)<br>
</div>

<pre><span id="VALjunk"><span class="keyword">val</span> junk</span> : <code class="type">?n:int -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Discard the first <code class="code">n</code> (default 1) elements of a shtream.  If
 fewer than <code class="code">n</code> remain, discards them all.<br>
</div>

<pre><span id="VALnext"><span class="keyword">val</span> next</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a</code></pre><div class="info ">
Return and discard the next element of a shtream.  If the
 shtream is empty, raises <code class="code"><span class="constructor">Failure</span></code>.<br>
</div>

<pre><span id="VALnext'"><span class="keyword">val</span> next'</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a option</code></pre><div class="info ">
Return and discard the next element of a shtream.  If the
 shtream is empty, returns <code class="code"><span class="constructor">None</span></code>.<br>
</div>
<br>
<h1 id="1_ShtreamConstructionandObservation">Shtream Construction and Observation</h1><br>

<pre><span id="VALiter"><span class="keyword">val</span> iter</span> : <code class="type">('a -> unit) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Apply a function to each element of a shtream in turn.  This
 function exhausts the shtream.<br>
</div>

<pre><span id="VALfilter"><span class="keyword">val</span> filter</span> : <code class="type">('a -> bool) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Lazily filter a shtream according to a predicate.
 <code class="code"><span class="constructor">Shtream</span>.filter pred s</code> returns a new
 shtream containing all the elements of <code class="code">s</code> that satisfy <code class="code">pred</code>. 
 The order of the elements is preserved, and <code class="code">s</code> becomes
 invalid.<br>
</div>

<pre><span id="VALmap"><span class="keyword">val</span> map</span> : <code class="type">('a -> 'b) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'b <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Lazily map a function over the elements of a shtream.  The old shtream
 becomes invalid.<br>
</div>

<pre><span id="VALconcat_map"><span class="keyword">val</span> concat_map</span> : <code class="type">('a -> 'b list) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'b <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Lazily map a function over a shtream, concatenating the results.
 <code class="code"><span class="constructor">Shtream</span>.concat_map f s</code> applies <code class="code">f</code> to each element of <code class="code">s</code> in
 turn, concatenating the resulting lists to form a new shtream.
 The old shtream <code class="code">s</code> becomes invalid.<br>
</div>

<pre><span id="VALfold_left"><span class="keyword">val</span> fold_left</span> : <code class="type">('b -> 'a -> 'b) -> 'b -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'b</code></pre><div class="info ">
Eagerly fold a function over a shtream.
 <code class="code"><span class="constructor">Shtream</span>.fold_left f z s</code> applies the function <code class="code">f</code> to each
 element of <code class="code">s</code> in turn, with an accumulating parameter
 that starts at <code class="code">z</code>, and then returns the accumulated value.
 Isomorphic to <code class="code"><span class="constructor">List</span>.fold_left</code>.<br>
</div>

<pre><span id="VALfold_right"><span class="keyword">val</span> fold_right</span> : <code class="type">('a -> 'b Lazy.t -> 'b) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'b -> 'b</code></pre><div class="info ">
Lazily fold a function over a shtream.
 <code class="code"><span class="constructor">Shtream</span>.fold_right f s z</code> applies <code class="code">f</code> to each element
 of <code class="code">s</code> and a lazy value that, when forced, returns the
 rest of the fold.  At the end of the shtream, the lazy value
 returns <code class="code">z</code>.  Isomorphic to call-by-need <code class="code"><span class="constructor">List</span>.fold_right</code>.<br>
</div>

<pre><span id="VALnil"><span class="keyword">val</span> nil</span> : <code class="type">unit -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Return the empty shtream.<br>
</div>

<pre><span id="VALinsert"><span class="keyword">val</span> insert</span> : <code class="type">'a -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Prepend an element to a shtream.<br>
</div>

<pre><span id="VALcons"><span class="keyword">val</span> cons</span> : <code class="type">'a -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Prepend an element to a shtream and return the shtream.<br>
</div>

<pre><span id="VALappend"><span class="keyword">val</span> append</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Append two shtreams.  <code class="code"><span class="constructor">Shtream</span>.append s1 s2</code> returns a shtream
 that first produces the elements of <code class="code">s1</code>, and should <code class="code">s1</code> be
 exhausted, then produces the elements of <code class="code">s2</code>.  This operation
 invalidates both <code class="code">s1</code> and <code class="code">s2</code>.<br>
</div>
<br>
<h2 id="shtream_errors">Shtream Error Handling </h2>
<p>

 Because a shtream may be used far from its creation site, the
 client code of a shtream may be ill prepared to handle any
 exceptions the shtream might raise.  To this end, we provide a
 simple API for signaling and handling shtream errors.
<p>

 Here are several functions that a shtream generator (for
 example, the callback given to <a href="ShtreamSig.S.html#VALfrom"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.from</code></a> or a reader) may call to
 signal a condition:
<br>

<pre><span id="VALtry_again"><span class="keyword">val</span> try_again</span> : <code class="type">unit -> 'a</code></pre><div class="info ">
Indicates that the generating function cannot produce a value
 now.  The shtream evaluator should call it again.<br>
</div>

<pre><span id="VALwarn"><span class="keyword">val</span> warn</span> : <code class="type">('a, unit, string, 'b) Pervasives.format4 -> 'a</code></pre><div class="info ">
Indicates that the generating function has encountered a
 problem.  The error handler will decide what to do.<br>
</div>

<pre><span id="VALfail_with"><span class="keyword">val</span> fail_with</span> : <code class="type"><a href="Proc.html#TYPEstatus">Proc.status</a> -> 'a</code></pre><div class="info ">
Indicates that a shtream should terminate with the given error
 code.  Calling <code class="code">fail_with (<span class="constructor">Proc</span>.<span class="constructor">WEXITED</span> 0)</code> is equivalent to raising
 <code class="code"><span class="constructor">Failure</span></code>.  Calling <code class="code">fail_with st</code> results in an exit status of
 <code class="code">st</code>.<br>
</div>

<pre><span id="TYPEerror_handler"><span class="keyword">type</span> <code class="type"></code>error_handler</span> = <code class="type">[ `Exception of exn | `Warning of string ] -> unit</code> </pre>
<div class="info ">
The type for a shtream error handler.  If a shtream generator
 calls <code class="code">warn s</code> then the error handler receives <code class="code"><span class="keywordsign">`</span><span class="constructor">Warning</span> s</code>.  If
 a shtream generator raises an exception <code class="code">e</code>, then the error_handler
 receives <code class="code"><span class="keywordsign">`</span><span class="constructor">Exception</span> e</code>.<br>
</div>


<pre><span id="VALcurrent_error_handler"><span class="keyword">val</span> current_error_handler</span> : <code class="type"><a href="ShtreamSig.S.html#TYPEerror_handler">error_handler</a> Pervasives.ref</code></pre><div class="info ">
Reference containing the shtream error handler.  This may be
 changed to one of the predefined error handling functions such as
 <a href="ShtreamSig.S.html#VALignore_errors"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.ignore_errors</code></a> or a user-defined function.<br>
</div>

<pre><span id="VALignore_errors"><span class="keyword">val</span> ignore_errors</span> : <code class="type"><a href="ShtreamSig.S.html#TYPEerror_handler">error_handler</a></code></pre><div class="info ">
Ignore errors and continue evaluating the shtream.<br>
</div>

<pre><span id="VALwarn_on_errors"><span class="keyword">val</span> warn_on_errors</span> : <code class="type"><a href="ShtreamSig.S.html#TYPEerror_handler">error_handler</a></code></pre><div class="info ">
Print a warning on <code class="code">stderr</code> and continue evaluating the shtream.<br>
</div>

<pre><span id="VALdie_on_errors"><span class="keyword">val</span> die_on_errors</span> : <code class="type"><a href="ShtreamSig.S.html#TYPEerror_handler">error_handler</a></code></pre><div class="info ">
Print a warning on <code class="code">stderr</code> terminate the shtream.<br>
</div>

<pre><span id="VALdie_silently_on_errors"><span class="keyword">val</span> die_silently_on_errors</span> : <code class="type"><a href="ShtreamSig.S.html#TYPEerror_handler">error_handler</a></code></pre><div class="info ">
Just terminate the shtream.<br>
</div>
<br>
<h1 id="1_Coshtreams">Coshtreams</h1>
<p>

 A shtream is a source of typed data; a coshtream, of course, is a
 sink.  Given a function <code class="code">f</code> that consumes a shtream, <a href="ShtreamSig.S.html#VALcoshtream_of"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.coshtream_of</code></a>
 returns a coshtream handle that can be used to supply shtream
 elements to <code class="code">f</code> asynchronously.
<p>

 Because coshtreams work by calling <code class="code">f</code> in a child process, they
 must marshal shtream data over a pipe; thus, they work only if
 the element type is serializable using <code class="code"><span class="constructor">Marshal</span></code>.  Moreover,
 internal side effects in <code class="code">f</code>, such as mutating a ref cell, will not
 be visible, since <code class="code">f</code> is called in a separate process.
<br>

<pre><span id="VALcoshtream_of"><span class="keyword">val</span> coshtream_of</span> : <code class="type">?procref:<a href="Channel.html#TYPEprocref">Channel.procref</a> -> ('a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'b) -> 'a <a href="ShtreamSig.S.html#TYPEco_t">co_t</a></code></pre><div class="info ">
Construct a coshtream from a shtream-consuming function.
 <code class="code">coshtream_of f</code> spawns a child process in which it invokes <code class="code">f</code>,
 and relays values sent to the resulting coshtream into the
 shtream given to <code class="code">f</code>.  If <code class="code">procref</code> is provided, the child
 <a href="Proc.html#TYPEt"><code class="code"><span class="constructor">Proc</span>.t</code></a> is stashed therein.<br>
</div>

<pre><span id="VALconil"><span class="keyword">val</span> conil</span> : <code class="type">unit -> 'a <a href="ShtreamSig.S.html#TYPEco_t">co_t</a></code></pre><div class="info ">
Returns the empty coshtream.  The empty coshtream accepts
 data ad infinitum.<br>
</div>

<pre><span id="VALconext"><span class="keyword">val</span> conext</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEco_t">co_t</a> -> 'a -> unit</code></pre><div class="info ">
Send a value to a coshtream.<br>
</div>

<pre><span id="VALcoclose"><span class="keyword">val</span> coclose</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEco_t">co_t</a> -> unit</code></pre><div class="info ">
Indicate the end of a coshtream.  The shtream consuming function
 will see this as the end of the shtream.<br>
</div>

<pre><span id="VALannihilate"><span class="keyword">val</span> annihilate</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a <a href="ShtreamSig.S.html#TYPEco_t">co_t</a> -> unit</code></pre><div class="info ">
Send the contents of a shtream to a coshtream.  This leaves
 the coshtream open, and if the coshtream stops accepting data
 before the shtream is exhausted, data <i>may</i> remain in the shtream.<br>
</div>
<br>
<h1 id="1_Lowlevelscarystuff">Low level (scary stuff)</h1><br>

<pre><span id="VALfrom_low"><span class="keyword">val</span> from_low</span> : <code class="type">?close:(unit -> unit) -> (int -> 'a) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Generate a shtream from a function, and include a close
 operation.  This is like <a href="ShtreamSig.S.html#VALfrom"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.from</code></a>, except that the function
 returns <code class="code"><span class="keywordsign">'</span>a</code> rather than <code class="code"><span class="keywordsign">'</span>a option</code>, and must signal the end of
 the shtream by raising <code class="code"><span class="constructor">Failure</span></code>.  If <code class="code">close</code> is provided, it
 will be called when the resulting shtream is closed; this could
 be useful to free resources associated with the shtream.<br>
</div>

<pre><span id="VALclaim"><span class="keyword">val</span> claim</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a></code></pre><div class="info ">
Invalidate a shtream and return a copy.  <code class="code">claim s</code> returns
 a shtream behaving identically to <code class="code">s</code>, while modifying <code class="code">s</code> to
 contain no more data.  This is useful for functions that want to
 lay claim to a shtream argument while consuming it lazily.<br>
</div>

<pre><span id="VALset_reader"><span class="keyword">val</span> set_reader</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> (Pervasives.in_channel -> 'a) -> unit</code></pre><div class="info ">
Change the channel reader of a shtream.  If the given shtream is
 a channel-based shtream (made with <a href="Shtream.html#VALof_channel"><code class="code"><span class="constructor">Shtream</span>.of_channel</code></a>, for
 example), this causes it to begin using the supplied reader to
 produce shtream elements.<br>
</div>

<pre><span id="VALhint_reader"><span class="keyword">val</span> hint_reader</span> : <code class="type">'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> <a href="Reader.html#TYPEt">Reader.t</a> -> unit</code></pre><div class="info ">
Possibly change the channel reader of a shtream.  This is like
 <a href="ShtreamSig.S.html#VALset_reader"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.set_reader</code></a>, but it only changes the reader if the current
 reader was defaulted rather than supplied by the user.  For
 example, if a shtream is created with <code class="code"><span class="constructor">AnyShtream</span>.<span class="constructor">ANYSHTREAM</span>.of_channel</code>
 and the user does not supply its option <code class="code">?reader</code> argument, then
 the reader may be changed by the system using <a href="ShtreamSig.S.html#VALhint_reader"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.hint_reader</code></a>;
 but if the user explictly specifies a reader, then <a href="ShtreamSig.S.html#VALhint_reader"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.hint_reader</code></a>
 has no effect.<br>
</div>

<pre><span id="TYPEprotector"><span class="keyword">type</span> <code class="type"></code>protector</span> = <code class="type"><a href="Util.html#TYPEprotector">Util.protector</a></code> </pre>
<div class="info ">
Alias for <a href="Util.html#TYPEprotector"><code class="code"><span class="constructor">Util</span>.protector</code></a><br>
</div>


<pre><span id="VALadd_protection"><span class="keyword">val</span> add_protection</span> : <code class="type"><a href="ShtreamSig.S.html#TYPEprotector">protector</a> -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Add advice to adjust parameters while evaluating a shtream.  A
 <a href="ShtreamSig.S.html#TYPEprotector"><code class="code"><span class="constructor">ShtreamSig</span>.<span class="constructor">S</span>.protector</code></a> is a function that, given a thunk, must return the value
 of the thunk, but may perform some preparation first or cleanup
 afterward.  Adding a protector to a shtream means that any internal
 shtream evalution will be performed in the dynamic context of the
 protector.  If more than one protector has been added to a shtream,
 they will be performed with the newest protector on the outside.<br>
</div>

<pre><span id="VALadd_cleanup"><span class="keyword">val</span> add_cleanup</span> : <code class="type">(unit -> unit) -> 'a <a href="ShtreamSig.S.html#TYPEt">t</a> -> unit</code></pre><div class="info ">
Add advice for closing a shtream.  This function adds a thunk to
 be performed when a shtream is closed.  If more than one close action
 has been added, they will be performed in order from oldest to
 newest.<br>
</div>
</body></html>